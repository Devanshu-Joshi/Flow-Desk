<div class="px-5 sm:px-8 pt-8 pb-4 text-center">
    <p class="text-xl sm:text-2xl font-semibold tracking-tight" [ngClass]="{
      'text-black': dialogTitleColor === 'text-primary',
      'text-yellow-500': dialogTitleColor === 'text-warn',
      'text-red-600': dialogTitleColor === 'text-danger'
    }">
        {{ dialogTitle }} Task
    </p>

    <p class="text-xs sm:text-sm text-gray-500 mt-1">
        {{ dialogDescription }}
    </p>
</div>

<form [formGroup]="form" (ngSubmit)="submitForm.emit()" class="px-5 sm:px-8 pb-8">
    <div class="flex items-center gap-2 border border-gray-300 rounded-xl px-3 py-2 my-3
              focus-within:border-indigo-500 focus-within:ring-2 focus-within:ring-indigo-500/20 transition">
        <i class="bx bx-edit text-gray-400"></i>
        <input type="text" formControlName="title" class="w-full outline-none text-sm placeholder-gray-400"
            placeholder="Task Name" [ngClass]="{
        'cursor-not-allowed': isDeleting,
        'cursor-auto': !isDeleting
      }" />
    </div>

    @if(form.controls['title'].touched && form.controls['title'].invalid) {
    <p class="text-red-500 text-xs mt-1">
        Task name is required (min 3 chars)
    </p>
    }

    <div class="flex items-center gap-2 border border-gray-300 rounded-xl px-3 py-2 my-4
              focus-within:border-indigo-500 focus-within:ring-2 focus-within:ring-indigo-500/20 transition">
        <i class="bx bx-calendar text-gray-400"></i>
        <input type="date" formControlName="dueDate" class="w-full outline-none text-sm" [ngClass]="{
        'cursor-not-allowed': isDeleting,
        'cursor-auto': !isDeleting
      }" />
    </div>

    @if(form.controls['dueDate'].touched && form.controls['dueDate'].invalid) {
    <p class="text-red-500 text-xs mt-1">
        Due date is required
    </p>
    }

    <div class="flex items-center gap-2 border border-gray-300 rounded-xl px-3 py-2 my-4
              focus-within:border-indigo-500 focus-within:ring-2 focus-within:ring-indigo-500/20 transition">
        <i class="bx bx-flag text-gray-400"></i>
        <select formControlName="status" class="w-full outline-none text-sm bg-transparent" [ngClass]="{
        'cursor-auto': !isDeleting,
        'cursor-not-allowed': isDeleting
      }">
            <option value="Incomplete">Incomplete</option>
            <option value="Completed">Completed</option>
            <option value="InProgress">In Progress</option>
        </select>
    </div>

    <div class="mt-8 flex flex-col sm:flex-row gap-3">
        <button type="button" (click)="cancel.emit()"
            class="w-full py-3 rounded-xl font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 transition-all duration-200 cursor-pointer">
            Cancel
        </button>

        <button type="submit" [ngClass]="{
        'submit-btn text-white': dialogTitleColor === 'text-primary',
        'edit-btn text-white': dialogTitleColor === 'text-warn',
        'delete-btn text-white': dialogTitleColor === 'text-danger'
      }" class="w-full py-3 rounded-xl font-medium" [disabled]="form.invalid">
            {{ dialogSubmitText }} Task
        </button>
    </div>
</form>