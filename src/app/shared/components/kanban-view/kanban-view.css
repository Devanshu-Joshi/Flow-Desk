/* ============================================================
   CDK DRAG & DROP — KANBAN BOARD
   ============================================================
  
   DOM structure (post-fix):
  
     cdkDropList
       └─ div.py-1.5  [cdkDrag]        ← WRAPPER  (gets CDK classes)
            └─ div.bg-white.rounded-lg  ← CARD     (visual content)
  
   CDK clones the [cdkDrag] element for both Preview and
   Placeholder, so every visual override must target  > div
   (the inner card), while layout/interaction stays on the
   wrapper.
   ============================================================ */


/* ──────────────────────────────────────────────────────────────
   1. DRAG PREVIEW — floating card following the cursor
   ────────────────────────────────────────────────────────────── */

/* 1a  Wrapper reset
       The cloned wrapper carries Tailwind's py-1.5; strip it
       so the preview sits flush against the cursor.              */
.cdk-drag-preview {
    box-sizing: border-box;
    padding: 0 !important;
    margin: 0 !important;
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    overflow: visible;
    pointer-events: none !important;
    /* F4  – non-interactive     */
    cursor: move !important;
    /* F9  – drag cursor         */
}

/* 1b  Inner card — the part the user actually sees              */
.cdk-drag-preview>div {
    position: relative;
    box-sizing: border-box;
    border-radius: 0.5rem;
    /* matches rounded-lg        */
    padding: 1rem;
    /* matches p-4               */
    background-color: #ffffff;
    color: #1f2937;

    /* Purple glow shadow  (F1) */
    box-shadow:
        0 10px 15px -3px rgba(168, 85, 247, 0.4),
        0 4px 6px -4px rgba(168, 85, 247, 0.4) !important;

    /* Kill Tailwind's column-specific border-left */
    border-left: none !important;

    /* Playful tilt + scale  (F3)
     ⚠️ Moved here from wrapper — CDK overwrites the wrapper's
     transform with translate3d(), so rotation on the wrapper
     was silently ignored in the old code. This actually fixes it. */
    /* transform: rotate(1deg) scale(1.02); */
}

/* 1c  Gradient left strip  (F2) */
.cdk-drag-preview>div::before {
    content: "";
    position: absolute;
    inset: 0 auto 0 0;
    /* top:0 right:auto bottom:0 left:0 */
    width: 4px;
    border-top-left-radius: 0.5rem;
    border-bottom-left-radius: 0.5rem;
    background: linear-gradient(to bottom, #9333ea, #4f46e5);
}


/* ──────────────────────────────────────────────────────────────
   2. PLACEHOLDER — ghost card at the drop position   (F5)
   ────────────────────────────────────────────────────────────── */

.cdk-drag-placeholder>div {
    opacity: 1;
    background-color: #f9fafb !important;
    /* override bg-white         */
    border: 1px dashed #d1d5db !important;
    /* override border-l-4, etc. */
    border-left: none !important;
    border-radius: 0.4rem;
    box-sizing: border-box;
    box-shadow: inset 4px 0 0 0 #9ca3af;
    /* default gray accent       */
}

/* 2b  Column-specific left accent  (F6)                         */
#incompleteList .cdk-drag-placeholder>div {
    box-shadow: inset 4px 0 0 0 #fb2c36 !important;
    /* red      */
}

#inProgressList .cdk-drag-placeholder>div {
    box-shadow: inset 4px 0 0 0 #f0b100 !important;
    /* amber    */
}

#completedList .cdk-drag-placeholder>div {
    box-shadow: inset 4px 0 0 0 #00c950 !important;
    /* green    */
}


/* ──────────────────────────────────────────────────────────────
   3. ANIMATIONS                           (F7, F8)
   ────────────────────────────────────────────────────────────── */

/* Snap-back when item lands */
.cdk-drag-animating {
    transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);
}

/* Siblings sliding out of the way */
.cdk-drop-list-dragging .cdk-drag:not(.cdk-drag-placeholder) {
    transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);
}


/* ──────────────────────────────────────────────────────────────
   4. CURSORS                              (F9)
   ────────────────────────────────────────────────────────────── */

.cdk-drag {
    cursor: move !important;
}

.cdk-drag-dragging {
    cursor: move !important;
}

.cdk-drop-list-dragging {
    cursor: move !important;
}


/* ──────────────────────────────────────────────────────────────
   5. POINTER-EVENT GUARDS                 (F4, F12)
   ────────────────────────────────────────────────────────────── */

/* Siblings shouldn't intercept pointer mid-drag */
.cdk-drop-list-dragging .cdk-drag:not(.cdk-drag-placeholder) {
    pointer-events: none;
}


/* ──────────────────────────────────────────────────────────────
   6. EMPTY-STATE HIDE                     (F10)
   ────────────────────────────────────────────────────────────── */

.cdk-drop-list-dragging .empty-state {
    display: none;
}


/* ──────────────────────────────────────────────────────────────
   7. BOARD — horizontal touch scrolling   (F11)
   ────────────────────────────────────────────────────────────── */

#boardScroller {
    touch-action: pan-x;
    -webkit-overflow-scrolling: touch;
}