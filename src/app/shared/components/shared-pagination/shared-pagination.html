@if (total > itemsPerPage) {

<nav aria-label="Pagination" class="flex items-center justify-center gap-1 text-sm select-none flex-wrap">

    <!-- ── PREV ── -->
    <button (click)="onPageChange(currentPage - 1)" [disabled]="currentPage === 1" aria-label="Previous page" class="inline-flex items-center justify-center
             h-8 px-2.5 rounded
             border border-gray-300 bg-white
             text-gray-600 font-medium
             hover:bg-gray-50 hover:border-gray-400
             disabled:opacity-40 disabled:cursor-not-allowed
             transition-colors duration-100
             whitespace-nowrap">
        ‹ Prev
    </button>

    <div class="flex items-center gap-1 md:hidden">

        <!-- leading ellipsis -->
        @if (getVisiblePages(3)[0] > 1) {
        <button (click)="onPageChange(1)" class="inline-flex items-center justify-center
                 h-8 w-8 rounded
                 border border-gray-300 bg-white text-gray-600
                 hover:bg-gray-50 hover:border-gray-400
                 transition-colors duration-100">
            1
        </button>
        @if (getVisiblePages(3)[0] > 2) {
        <span class="inline-flex items-center justify-center h-8 px-1 text-gray-400">
            …
        </span>
        }
        }

        <!-- window pages -->
        @for (page of getVisiblePages(3); track page) {
        <button (click)="onPageChange(page)" [attr.aria-current]="currentPage === page ? 'page' : null"
            [class]="currentPage === page
            ? 'inline-flex items-center justify-center h-8 w-8 rounded border border-indigo-600 bg-indigo-600 text-white font-semibold transition-colors duration-100'
            : 'inline-flex items-center justify-center h-8 w-8 rounded border border-gray-300 bg-white text-gray-600 hover:bg-gray-50 hover:border-gray-400 transition-colors duration-100'">
            {{ page }}
        </button>
        }

        <!-- trailing ellipsis -->
        @if (getVisiblePages(3)[getVisiblePages(3).length - 1] < totalPages) { @if
            (getVisiblePages(3)[getVisiblePages(3).length - 1] < totalPages - 1) { <span
            class="inline-flex items-center justify-center h-8 px-1 text-gray-400">
            …
            </span>
            }
            <button (click)="onPageChange(totalPages)" class="inline-flex items-center justify-center
                 h-8 w-8 rounded
                 border border-gray-300 bg-white text-gray-600
                 hover:bg-gray-50 hover:border-gray-400
                 transition-colors duration-100">
                {{ totalPages }}
            </button>
            }

    </div>

    <!-- ── PAGE NUMBERS ── -->
    <div class="hidden md:flex items-center gap-1">

        <!-- leading ellipsis -->
        @if (getVisiblePages(5)[0] > 1) {
        <button (click)="onPageChange(1)" class="inline-flex items-center justify-center
                 h-8 w-8 rounded
                 border border-gray-300 bg-white text-gray-600
                 hover:bg-gray-50 hover:border-gray-400
                 transition-colors duration-100">
            1
        </button>
        @if (getVisiblePages(5)[0] > 2) {
        <span class="inline-flex items-center justify-center h-8 px-1 text-gray-400">
            …
        </span>
        }
        }

        <!-- window pages -->
        @for (page of getVisiblePages(5); track page) {
        <button (click)="onPageChange(page)" [attr.aria-current]="currentPage === page ? 'page' : null"
            [class]="currentPage === page
            ? 'inline-flex items-center justify-center h-8 w-8 rounded border border-indigo-600 bg-indigo-600 text-white font-semibold transition-colors duration-100'
            : 'inline-flex items-center justify-center h-8 w-8 rounded border border-gray-300 bg-white text-gray-600 hover:bg-gray-50 hover:border-gray-400 transition-colors duration-100'">
            {{ page }}
        </button>
        }

        <!-- trailing ellipsis -->
        @if (getVisiblePages(5)[getVisiblePages(5).length - 1] < totalPages) { @if
            (getVisiblePages(5)[getVisiblePages(5).length - 1] < totalPages - 1) { <span
            class="inline-flex items-center justify-center h-8 px-1 text-gray-400">
            …
            </span>
            }
            <button (click)="onPageChange(totalPages)" class="inline-flex items-center justify-center
                 h-8 w-8 rounded
                 border border-gray-300 bg-white text-gray-600
                 hover:bg-gray-50 hover:border-gray-400
                 transition-colors duration-100">
                {{ totalPages }}
            </button>
            }

    </div>

    <!-- ── NEXT ── -->
    <button (click)="onPageChange(currentPage + 1)" [disabled]="currentPage === totalPages" aria-label="Next page"
        class="inline-flex items-center justify-center
             h-8 px-2.5 rounded
             border border-gray-300 bg-white
             text-gray-600 font-medium
             hover:bg-gray-50 hover:border-gray-400
             disabled:opacity-40 disabled:cursor-not-allowed
             transition-colors duration-100
             whitespace-nowrap">
        Next ›
    </button>

</nav>

}